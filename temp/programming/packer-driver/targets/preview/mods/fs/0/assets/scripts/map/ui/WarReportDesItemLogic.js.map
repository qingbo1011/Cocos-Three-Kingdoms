{"version":3,"sources":["file:///D:/git/github/mszlu/games/slg/ms-sg/assets/scripts/map/ui/WarReportDesItemLogic.ts"],"names":["_decorator","Component","RichText","Label","GeneralCommand","ccclass","property","WarReportDesItemLogic","onLoad","updateItem","data","console","log","_curData","roundsLabel","string","round","turn","att_cfg","getInstance","proxy","getGeneralCfg","attack","cfgId","def_cfg","defense","title1","title2","isAttack","warLab1","name","defenseLoss","warLab2","attackLoss"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;;AAGnCC,MAAAA,c;;;;;;;OAFD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;yBAMTO,qB,WADpBF,OAAO,CAAC,uBAAD,C,UAKHC,QAAQ,CAACJ,QAAD,C,UAGRI,QAAQ,CAACJ,QAAD,C,UAGRI,QAAQ,CAACH,KAAD,C,oCAXb,MACqBI,qBADrB,SACmDN,SADnD,CAC6D;AAAA;AAAA;;AAAA,4CAEvB,IAFuB;;AAAA;;AAAA;;AAAA;AAAA;;AAc/CO,QAAAA,MAAM,GAAO,CAEtB;;AAGSC,QAAAA,UAAU,CAACC,IAAD,EAA0B;AAC1CC,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,IAA3B;AAEA,eAAKG,QAAL,GAAgBH,IAAhB;AACA,eAAKI,WAAL,CAAiBC,MAAjB,GAA0B,MAAM,KAAKF,QAAL,CAAcG,KAApB,GAA4B,IAA5B,GAAmC,KAAKH,QAAL,CAAcI,IAAjD,GAAsD,IAAhF;AAEA,cAAIC,OAAO,GAAG;AAAA;AAAA,gDAAeC,WAAf,GAA6BC,KAA7B,CAAmCC,aAAnC,CAAiD,KAAKR,QAAL,CAAcS,MAAd,CAAqBC,KAAtE,CAAd;AACA,cAAIC,OAAO,GAAG;AAAA;AAAA,gDAAeL,WAAf,GAA6BC,KAA7B,CAAmCC,aAAnC,CAAiD,KAAKR,QAAL,CAAcY,OAAd,CAAsBF,KAAvE,CAAd;AAEA,cAAIG,MAAM,GAAG,EAAb;AACA,cAAIC,MAAM,GAAG,EAAb;;AACA,cAAGjB,IAAI,CAACkB,QAAR,EAAiB;AACbF,YAAAA,MAAM,GAAG,GAAT;AACAC,YAAAA,MAAM,GAAG,GAAT;AACH,WAHD,MAGK;AACDA,YAAAA,MAAM,GAAG,GAAT;AACAD,YAAAA,MAAM,GAAG,GAAT;AACH;;AACD,eAAKG,OAAL,CAAad,MAAb,GAAuB,oBAAoBW,MAApB,GAA6BR,OAAO,CAACY,IAArC,GAA4C,UAA5C,GAA2D,KAA3D,GACrB,iBADqB,GACDH,MADC,GACQH,OAAO,CAACM,IADhB,GACwB,UADxB,GACqC,QADrC,GAErB,iBAFqB,GAEDH,MAFC,GAEQH,OAAO,CAACM,IAFhB,GAEuB,UAFvB,GAEoC,MAFpC,GAGvB,iBAHuB,GAGH,KAAKjB,QAAL,CAAckB,WAHX,GAGyB,UAHzB,GAGuC,KAH9D;AAKA,eAAKC,OAAL,CAAajB,MAAb,GAAuB,oBAAoBY,MAApB,GAA6BH,OAAO,CAACM,IAArC,GAA4C,UAA5C,GAA2D,KAA3D,GACrB,iBADqB,GACDJ,MADC,GACQR,OAAO,CAACY,IADhB,GACwB,UADxB,GACqC,QADrC,GAErB,iBAFqB,GAEDJ,MAFC,GAEQR,OAAO,CAACY,IAFhB,GAEuB,UAFvB,GAEoC,MAFpC,GAGvB,iBAHuB,GAGH,KAAKjB,QAAL,CAAcoB,UAHX,GAGwB,UAHxB,GAGsC,KAH7D;AAKH;;AA/CwD,O;;;;;iBAKtC,I;;;;;;;iBAGA,I;;;;;;;iBAGC,I","sourcesContent":["import { _decorator, Component, RichText, Label } from 'cc';\nconst { ccclass, property } = _decorator;\n\nimport GeneralCommand from \"../../general/GeneralCommand\";\nimport { WarReportRound } from \"./MapUIProxy\";\n\n@ccclass('WarReportDesItemLogic')\nexport default class WarReportDesItemLogic extends Component {\n\n    private _curData:WarReportRound = null;\n\n    @property(RichText)\n    warLab1:RichText = null;\n\n    @property(RichText)\n    warLab2:RichText = null;\n\n    @property(Label)\n    roundsLabel:Label = null;\n\n\n    protected onLoad():void{\n\n    }\n\n\n    protected updateItem(data:WarReportRound):void{\n        console.log(\"updateItem:\", data);\n      \n        this._curData = data;\n        this.roundsLabel.string = \"第\" + this._curData.round + \"轮/\" + this._curData.turn+\"回合\";\n\n        var att_cfg = GeneralCommand.getInstance().proxy.getGeneralCfg(this._curData.attack.cfgId);\n        var def_cfg = GeneralCommand.getInstance().proxy.getGeneralCfg(this._curData.defense.cfgId);\n\n        var title1 = \"\"\n        var title2 = \"\"\n        if(data.isAttack){\n            title1 = \"攻\";\n            title2 = \"防\";\n        }else{\n            title2 = \"攻\";\n            title1 = \"防\";\n        }\n        this.warLab1.string =  \"<color=#ff0000>\" + title1 + att_cfg.name + \"</color>\"   + \" 对 \" \n        + \"<color=#00ff00>\" + title2 + def_cfg.name +  \"</color>\" + \" 发起攻击，\" \n        + \"<color=#00ff00>\" + title2 + def_cfg.name + \"</color>\" + \" 损失 \" + \n        \"<color=#F2C420>\" + this._curData.defenseLoss + \"</color>\"  + \" 士兵\";\n\n        this.warLab2.string =  \"<color=#ff0000>\" + title2 + def_cfg.name + \"</color>\"   + \" 对 \" \n        + \"<color=#00ff00>\" + title1 + att_cfg.name +  \"</color>\" + \" 发起攻击，\" \n        + \"<color=#00ff00>\" + title1 + att_cfg.name + \"</color>\" + \" 损失 \" + \n        \"<color=#F2C420>\" + this._curData.attackLoss + \"</color>\"  + \" 士兵\";\n\n    }\n\n}\n"]}