{"version":3,"sources":["file:///D:/git/github/mszlu/games/slg/ms-sg/assets/scripts/union/UnionMemItemLogic.ts"],"names":["_decorator","Component","Label","UnionCommand","EventMgr","ccclass","property","UnionMemItemLogic","onLoad","updateItem","data","_menberData","titleLabel","string","titleDes","nameLabel","name","posLabel","x","y","click","emit","kick","getInstance","unionKick","rid","appoint","abdicate","jump"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;;AAIzBC,MAAAA,Y;;AAEEC,MAAAA,Q,iBAAAA,Q;;;;;;;OALH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;yBAQTO,iB,WADpBF,OAAO,CAAC,mBAAD,C,UAGHC,QAAQ,CAACJ,KAAD,C,UAGRI,QAAQ,CAACJ,KAAD,C,UAGRI,QAAQ,CAACJ,KAAD,C,oCATb,MACqBK,iBADrB,SAC+CN,SAD/C,CACyD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,+CAWtB,IAXsB;AAAA;;AAa3CO,QAAAA,MAAM,GAAO,CACtB;;AAESC,QAAAA,UAAU,CAACC,IAAD,EAAkB;AAClC,eAAKC,WAAL,GAAmBD,IAAnB;AACA,eAAKE,UAAL,CAAgBC,MAAhB,GAAyB,MAAM,KAAKF,WAAL,CAAiBG,QAAvB,GAAkC,GAA3D;AACA,eAAKC,SAAL,CAAeF,MAAf,GAAwB,KAAKF,WAAL,CAAiBK,IAAzC;AACA,eAAKC,QAAL,CAAcJ,MAAd,GAAuB,SAAS,KAAKF,WAAL,CAAiBO,CAA1B,GAA8B,GAA9B,GAAoC,KAAKP,WAAL,CAAiBQ,CAArD,GAAuD,GAA9E;AACH;;AAESC,QAAAA,KAAK,GAAO;AAClB;AAAA;AAAA,oCAASC,IAAT,CAAc,sBAAd,EAAsC,KAAKV,WAA3C;AACH;;AAESW,QAAAA,IAAI,GAAO;AACjB;AAAA;AAAA,4CAAaC,WAAb,GAA2BC,SAA3B,CAAqC,KAAKb,WAAL,CAAiBc,GAAtD;AACH;;AAGSC,QAAAA,OAAO,GAAO;AACpB;AAAA;AAAA,4CAAaH,WAAb,GAA2BC,SAA3B,CAAqC,KAAKb,WAAL,CAAiBc,GAAtD;AACH;;AAESE,QAAAA,QAAQ,GAAO;AACrB;AAAA;AAAA,4CAAaJ,WAAb,GAA2BC,SAA3B,CAAqC,KAAKb,WAAL,CAAiBc,GAAtD;AACH;;AAESG,QAAAA,IAAI,GAAO;AACjB;AAAA;AAAA,oCAASP,IAAT,CAAc,aAAd;AACA;AAAA;AAAA,oCAASA,IAAT,CAAc,eAAd,EAA+B,KAAKV,WAAL,CAAiBO,CAAhD,EAAmD,KAAKP,WAAL,CAAiBQ,CAApE;AACH;;AA3CoD,O;;;;;iBAGlC,I;;;;;;;iBAGC,I;;;;;;;iBAGF,I","sourcesContent":["// // Learn TypeScript:\n// //  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// // Learn Attribute:\n// //  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// // Learn life-cycle callbacks:\n// //  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { _decorator, Component, Label } from 'cc';\nconst { ccclass, property } = _decorator;\n\n\nimport UnionCommand from \"./UnionCommand\";\nimport { Member } from \"./UnionProxy\";\nimport { EventMgr } from '../utils/EventMgr';\n\n@ccclass('UnionMemItemLogic')\nexport default class UnionMemItemLogic extends Component {\n\n    @property(Label)\n    nameLabel: Label = null;\n\n    @property(Label)\n    titleLabel: Label = null;\n\n    @property(Label)\n    posLabel: Label = null;\n\n    protected _menberData:Member = null;\n\n    protected onLoad():void{\n    }\n\n    protected updateItem(data:Member):void{\n        this._menberData = data;\n        this.titleLabel.string = \"(\" + this._menberData.titleDes + \")\";\n        this.nameLabel.string = this._menberData.name;\n        this.posLabel.string = \"坐标:(\" + this._menberData.x + \",\" + this._menberData.y+\")\";\n    }\n\n    protected click():void{\n        EventMgr.emit(\"clickUnionMemberItem\", this._menberData);\n    }\n\n    protected kick():void{\n        UnionCommand.getInstance().unionKick(this._menberData.rid);\n    }\n\n    \n    protected appoint():void{\n        UnionCommand.getInstance().unionKick(this._menberData.rid);\n    }\n\n    protected abdicate():void{\n        UnionCommand.getInstance().unionKick(this._menberData.rid);\n    }\n    \n    protected jump():void{\n        EventMgr.emit(\"close_union\");\n        EventMgr.emit(\"scroll_to_map\", this._menberData.x, this._menberData.y);\n    }\n\n}\n"]}