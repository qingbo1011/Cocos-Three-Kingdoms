{"version":3,"sources":["file:///D:/git/github/mszlu/games/slg/ms-sg/assets/scripts/login/CreateLogic.ts"],"names":["_decorator","Component","EditBox","Toggle","ServerConfig","LoginCommand","EventMgr","ccclass","property","CreateLogic","onLoad","on","role_create","create","editName","string","getRandomName","onCreate","sex","manToggle","isChecked","loginData","getInstance","proxy","getLoginData","uid","serverId","data","console","log","code","node","active","onRandomName","name","firstname","nameq","xingxing","Math","floor","random","length","mingming","onDestroy","targetOff"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,O,OAAAA,O;AAASC,MAAAA,M,OAAAA,M;;AAGhCC,MAAAA,Y,iBAAAA,Y;;AACFC,MAAAA,Y;;AACEC,MAAAA,Q,iBAAAA,Q;;;;;;;OAJH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;yBAOTS,W,WADpBF,OAAO,CAAC,aAAD,C,UAGHC,QAAQ,CAACN,OAAD,C,UAIRM,QAAQ,CAACL,MAAD,C,UAIRK,QAAQ,CAACL,MAAD,C,oCAXb,MACqBM,WADrB,SACyCR,SADzC,CACmD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAcrCS,QAAAA,MAAM,GAAO;AACnB;AAAA;AAAA,oCAASC,EAAT,CAAY;AAAA;AAAA,4CAAaC,WAAzB,EAAsC,KAAKC,MAA3C,EAAmD,IAAnD;AACA,eAAKC,QAAL,CAAcC,MAAd,GAAuB,KAAKC,aAAL,EAAvB;AACH;;AAESC,QAAAA,QAAQ,GAAG;AACjB,cAAIC,GAAG,GAAG,KAAKC,SAAL,CAAeC,SAAf,GAAyB,CAAzB,GAA2B,CAArC;AACA,cAAIC,SAAc,GAAG;AAAA;AAAA,4CAAaC,WAAb,GAA2BC,KAA3B,CAAiCC,YAAjC,EAArB;AACA;AAAA;AAAA,4CAAaF,WAAb,GAA2BV,WAA3B,CAAuCS,SAAS,CAACI,GAAjD,EAAsD,KAAKX,QAAL,CAAcC,MAApE,EAA4EG,GAA5E,EAAgF;AAAA;AAAA,4CAAaI,WAAb,GAA2BC,KAA3B,CAAiCG,QAAjH,EAA2H,CAA3H;AACH;;AAGSb,QAAAA,MAAM,CAACc,IAAD,EAAW;AACvBC,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,IAAvB;;AACA,cAAGA,IAAI,CAACG,IAAL,IAAa,CAAhB,EAAkB;AACd,iBAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;AACJ;;AAESC,QAAAA,YAAY,GAAO;AACzB,eAAKnB,QAAL,CAAcC,MAAd,GAAuB,KAAKC,aAAL,EAAvB;AACH;AAGD;AACJ;AACA;;;AACaA,QAAAA,aAAa,GAAS;AAC5B,cAAIkB,IAAI,GAAG,EAAX;AACA,cAAIC,SAAkB,GAAG,CAAC,GAAD,EAAK,IAAL,EAAU,GAAV,EAAc,GAAd,EAAkB,IAAlB,EAAuB,IAAvB,EAA4B,IAA5B,EAAiC,IAAjC,CAAzB;AACA,cAAIC,KAAc,GAAG,CAAC,GAAD,EAAK,IAAL,EAAU,GAAV,EAAc,IAAd,EAAmB,IAAnB,EAAwB,IAAxB,EAA6B,IAA7B,EAAkC,IAAlC,CAArB;AACA,cAAIC,QAAQ,GAAGF,SAAS,CAACG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAiBL,SAAS,CAACM,MAAtC,CAAD,CAAxB;AACA,cAAIC,QAAQ,GAAGN,KAAK,CAACE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAiBJ,KAAK,CAACK,MAAlC,CAAD,CAApB;AACAP,UAAAA,IAAI,GAAGG,QAAQ,GAAGK,QAAlB;AACC,iBAAOR,IAAP;AACH;;AAISS,QAAAA,SAAS,GAAO;AACtB;AAAA;AAAA,oCAASC,SAAT,CAAmB,IAAnB;AACH;;AAvD8C,O;;;;;iBAG3B,I;;;;;;;iBAIA,I;;;;;;;iBAIC,I","sourcesContent":["import { _decorator, Component, EditBox, Toggle } from 'cc';\nconst { ccclass, property } = _decorator;\n\nimport { ServerConfig } from \"../config/ServerConfig\";\nimport LoginCommand from \"./LoginCommand\";\nimport { EventMgr } from '../utils/EventMgr';\n\n@ccclass('CreateLogic')\nexport default class CreateLogic extends Component {\n\n    @property(EditBox)\n    editName: EditBox = null;\n\n\n    @property(Toggle)\n    manToggle: Toggle = null;\n    \n\n    @property(Toggle)\n    girlToggle: Toggle = null;\n\n\n    protected onLoad():void{\n        EventMgr.on(ServerConfig.role_create, this.create, this);\n        this.editName.string = this.getRandomName();\n    }\n\n    protected onCreate() {\n        var sex = this.manToggle.isChecked?0:1;\n        var loginData: any = LoginCommand.getInstance().proxy.getLoginData();\n        LoginCommand.getInstance().role_create(loginData.uid, this.editName.string, sex,LoginCommand.getInstance().proxy.serverId, 0)\n    }\n\n\n    protected create(data):void{\n        console.log(\"create:\", data);\n        if(data.code == 0){\n            this.node.active = false;\n        }\n    }\n\n    protected onRandomName():void{\n        this.editName.string = this.getRandomName();\n    }\n\n\n    /*\n    *@param Number NameLength 要获取的名字长度\n    */\n   protected getRandomName():string{\n       let name = \"\"\n       var firstname:string[] = [\"李\",\"西门\",\"沈\",\"张\",\"上官\",\"司徒\",\"欧阳\",\"轩辕\"];\n       var nameq:string[] = [\"彪\",\"巨昆\",\"锐\",\"翠花\",\"小小\",\"撒撒\",\"熊大\",\"宝强\"];\n       var xingxing = firstname[Math.floor(Math.random() * (firstname.length))];\n       var mingming = nameq[Math.floor(Math.random() * (nameq.length))];\n       name = xingxing + mingming;\n        return name\n    }\n\n\n\n    protected onDestroy():void{\n        EventMgr.targetOff(this);\n    }\n}\n"]}