{"version":3,"sources":["file:///D:/git/github/mszlu/games/slg/ms-sg/assets/scripts/union/UnionCreateLogic.ts"],"names":["_decorator","Component","EditBox","UnionCommand","EventMgr","ccclass","property","UnionCreateLogic","onLoad","on","onClickClose","editName","string","getRandomName","onCreate","getInstance","unionCreate","onRandomName","name","firstname","nameq","xingxing","Math","floor","random","length","mingming","onDestroy","targetOff","node","active"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAOSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,O,OAAAA,O;;AAGzBC,MAAAA,Y;;AACEC,MAAAA,Q,iBAAAA,Q;;;;;;;OAHH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;yBAMTO,gB,WADpBF,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ,CAACJ,OAAD,C,oCAFb,MACqBK,gBADrB,SAC8CN,SAD9C,CACwD;AAAA;AAAA;;AAAA;AAAA;;AAG1CO,QAAAA,MAAM,GAAO;AACnB;AAAA;AAAA,oCAASC,EAAT,CAAY,sBAAZ,EAAmC,KAAKC,YAAxC,EAAqD,IAArD;AACA,eAAKC,QAAL,CAAcC,MAAd,GAAuB,KAAKC,aAAL,EAAvB;AACH;;AACSC,QAAAA,QAAQ,GAAG;AACjB;AAAA;AAAA,4CAAaC,WAAb,GAA2BC,WAA3B,CAAuC,KAAKL,QAAL,CAAcC,MAArD;AACH;;AACSK,QAAAA,YAAY,GAAO;AACzB,eAAKN,QAAL,CAAcC,MAAd,GAAuB,KAAKC,aAAL,EAAvB;AACH;;AACSA,QAAAA,aAAa,GAAS;AAC5B,cAAIK,IAAI,GAAG,EAAX;AACA,cAAIC,SAAkB,GAAG,CAAC,GAAD,EAAK,IAAL,EAAU,GAAV,EAAc,GAAd,EAAkB,IAAlB,EAAuB,IAAvB,EAA4B,IAA5B,EAAiC,IAAjC,EAAsC,IAAtC,EAA2C,IAA3C,CAAzB;AACA,cAAIC,KAAc,GAAG,CAAC,GAAD,EAAK,IAAL,EAAU,GAAV,EAAc,IAAd,EAAmB,IAAnB,EAAwB,IAAxB,EAA6B,IAA7B,EAAkC,IAAlC,CAArB;AACA,cAAIC,QAAQ,GAAGF,SAAS,CAACG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAiBL,SAAS,CAACM,MAAtC,CAAD,CAAxB;AACA,cAAIC,QAAQ,GAAGN,KAAK,CAACE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAiBJ,KAAK,CAACK,MAAlC,CAAD,CAApB;AACAP,UAAAA,IAAI,GAAGG,QAAQ,GAAGK,QAAlB;AACA,iBAAOR,IAAP;AACF;;AACQS,QAAAA,SAAS,GAAO;AACtB;AAAA;AAAA,oCAASC,SAAT,CAAmB,IAAnB;AACH;;AACSlB,QAAAA,YAAY,GAAS;AAC3B,eAAKmB,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;;AA3BmD,O;;;;;iBAEzB,I","sourcesContent":["// // Learn TypeScript:\n// //  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// // Learn Attribute:\n// //  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// // Learn life-cycle callbacks:\n// //  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { _decorator, Component, EditBox } from 'cc';\nconst { ccclass, property } = _decorator;\n\nimport UnionCommand from \"./UnionCommand\";\nimport { EventMgr } from '../utils/EventMgr';\n\n@ccclass('UnionCreateLogic')\nexport default class UnionCreateLogic extends Component {\n    @property(EditBox)\n    editName: EditBox | null = null;\n    protected onLoad():void{\n        EventMgr.on(\"create_union_success\",this.onClickClose,this)\n        this.editName.string = this.getRandomName();\n    }\n    protected onCreate() {\n        UnionCommand.getInstance().unionCreate(this.editName.string);\n    }\n    protected onRandomName():void{\n        this.editName.string = this.getRandomName();\n    }\n    protected getRandomName():string{\n        let name = \"\"\n        var firstname:string[] = [\"李\",\"西门\",\"沈\",\"张\",\"上官\",\"司徒\",\"欧阳\",\"轩辕\",\"咳咳\",\"妈妈\"];\n        var nameq:string[] = [\"彪\",\"巨昆\",\"锐\",\"翠花\",\"小小\",\"撒撒\",\"熊大\",\"宝强\"];\n        var xingxing = firstname[Math.floor(Math.random() * (firstname.length))];\n        var mingming = nameq[Math.floor(Math.random() * (nameq.length))];\n        name = xingxing + mingming;\n        return name\n     }\n    protected onDestroy():void{\n        EventMgr.targetOff(this);\n    }\n    protected onClickClose(): void {\n        this.node.active = false;\n    }\n}\n"]}