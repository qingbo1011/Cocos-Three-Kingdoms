{"version":3,"sources":["file:///D:/git/github/mszlu/games/slg/ms-sg/assets/scripts/union/UnionLobbyLogic.ts"],"names":["_decorator","Component","ScrollView","UnionCommand","EventMgr","ccclass","property","UnionLobbyLogic","onLoad","on","updateUnion","onDestroy","targetOff","data","comp","scrollView","node","getComponent","list","getInstance","proxy","getUnionList","setData","onEnable","_isFrist","unionList","onDisable"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,U,OAAAA,U;;AAGzBC,MAAAA,Y;;AAEEC,MAAAA,Q,iBAAAA,Q;;;;;;;OAJH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;yBAOTO,e,WADpBF,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ,CAACJ,UAAD,C,oCAFb,MACqBK,eADrB,SAC6CN,SAD7C,CACuD;AAAA;AAAA;;AAAA;;AAAA,4CAGxB,KAHwB;AAAA;;AAIzCO,QAAAA,MAAM,GAAO;AACnB;AAAA;AAAA,oCAASC,EAAT,CAAY,mBAAZ,EAAgC,KAAKC,WAArC,EAAiD,IAAjD;AACH;;AAESC,QAAAA,SAAS,GAAO;AACtB;AAAA;AAAA,oCAASC,SAAT,CAAmB,IAAnB;AACH;;AACSF,QAAAA,WAAW,CAACG,IAAD,EAAY;AAC7B,cAAIC,IAAI,GAAG,KAAKC,UAAL,CAAgBC,IAAhB,CAAqBC,YAArB,CAAkC,WAAlC,CAAX;AACA,cAAIC,IAAY,GAAG;AAAA;AAAA,4CAAaC,WAAb,GAA2BC,KAA3B,CAAiCC,YAAjC,EAAnB;AACAP,UAAAA,IAAI,CAACQ,OAAL,CAAaJ,IAAb;AACH;;AACSK,QAAAA,QAAQ,GAAO;AACrB,eAAKC,QAAL,GAAgB,IAAhB;AACA;AAAA;AAAA,4CAAaL,WAAb,GAA2BM,SAA3B;AACH;;AACSC,QAAAA,SAAS,GAAO;AACtB,eAAKF,QAAL,GAAgB,KAAhB;AACH;;AAtBkD,O;;;;;iBAEpB,I","sourcesContent":["import { _decorator, Component, ScrollView } from 'cc';\nconst { ccclass, property } = _decorator;\n\nimport UnionCommand from \"./UnionCommand\";\nimport { Union } from \"./UnionProxy\";\nimport { EventMgr } from '../utils/EventMgr';\n\n@ccclass('UnionLobbyLogic')\nexport default class UnionLobbyLogic extends Component {\n    @property(ScrollView)\n    scrollView:ScrollView | null = null;\n    private _isFrist:boolean = false;\n    protected onLoad():void{\n        EventMgr.on(\"update_union_list\",this.updateUnion,this);\n    }\n    \n    protected onDestroy():void{\n        EventMgr.targetOff(this);\n    }\n    protected updateUnion(data:any[]){\n        var comp = this.scrollView.node.getComponent(\"ListLogic\");\n        var list:Union[] = UnionCommand.getInstance().proxy.getUnionList();\n        comp.setData(list);\n    }\n    protected onEnable():void{\n        this._isFrist = true;\n        UnionCommand.getInstance().unionList();\n    }\n    protected onDisable():void{\n        this._isFrist = false;\n    }\n}\n\n"]}